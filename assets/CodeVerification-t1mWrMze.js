import{_ as x,u as C,r as f,c as p,a as r,b as e,d as c,e as h,v as k,j as i,t as d,F as V,o as a}from"./index-CgZNDQrm.js";import{_ as w}from"./rustic-CThMpSS1.js";const N={class:"container"},S={class:"verify-container"},E={class:"verify-card"},I={class:"verify-form"},M={class:"form-group mb-4"},P={class:"input-group"},j=["disabled"],B={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},D={class:"text-center mb-4"},F=["disabled"],J={key:0,class:"alert alert-danger"},O={key:1,class:"alert alert-success"},T={key:2,class:"alert alert-info"},q={key:3,class:"alert alert-warning"},z={__name:"CodeVerification",setup(A){const s=C(),u=f(""),v=f(""),l=f(""),m=p(()=>s.loading),g=p(()=>s.error),b=p(()=>s.successMessage),y=async()=>{const t=JSON.parse(localStorage.getItem("tempUser")),o=t==null?void 0:t.email;if(!o){s.error="No se encontró el correo electrónico. Por favor, regístrate de nuevo.";return}try{await s.verifyCode({email:o,code:u.value})}catch(n){console.error("Error al verificar el código:",n)}},_=async()=>{const t=JSON.parse(localStorage.getItem("tempUser")),o=t==null?void 0:t.email;if(!o){l.value="No se encontró el correo electrónico. Por favor, regístrate de nuevo.";return}try{await s.resendVerificationCode(o),v.value="Se ha reenviado el código de verificación a tu correo.",l.value=""}catch(n){v.value="",l.value="Error al reenviar el código. Por favor intenta nuevamente.",console.error("Error al reenviar el código:",n)}};return(t,o)=>(a(),r(V,null,[o[10]||(o[10]=e("section",{class:"verify-hero position-relative"},[e("video",{class:"w-100 h-100 object-fit-cover",autoplay:"",loop:"",muted:"",playsinline:""},[e("source",{src:w,type:"video/mp4"})]),e("div",{class:"video-overlay"}),e("div",{class:"container position-relative z-index-1 h-100 d-flex align-items-center justify-content-center text-center"},[e("div",{class:"hero-content"},[e("h1",{class:"display-4 fw-bold text-white mb-3"},"Verifica tu Cuenta"),e("p",{class:"lead text-white text-opacity-85 mb-0"},"Ingresa el código que enviamos a tu correo")])])],-1)),e("div",N,[e("div",S,[e("div",E,[o[9]||(o[9]=e("div",{class:"verify-header text-center mb-4"},[e("h2",{class:"fw-bold text-primary"},"Verificación de Código"),e("p",{class:"text-muted"},"Por favor ingresa el código de 6 dígitos")],-1)),e("div",I,[e("div",M,[o[2]||(o[2]=e("label",{for:"verificationCode",class:"form-label"},"Código de Verificación",-1)),e("div",P,[o[1]||(o[1]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-shield-lock"})],-1)),h(e("input",{id:"verificationCode","onUpdate:modelValue":o[0]||(o[0]=n=>u.value=n),class:"form-control form-control-lg",placeholder:"Ingresa el código",maxlength:"6"},null,512),[[k,u.value]])])]),e("button",{onClick:y,class:"btn btn-primary w-100 py-2 mb-3",disabled:m.value||!u.value},[m.value?(a(),r("span",B)):c("",!0),i(" "+d(m.value?"Verificando...":"Verificar Código"),1)],8,j),e("div",D,[o[4]||(o[4]=e("p",{class:"text-muted"},"¿No recibiste el código?",-1)),e("button",{onClick:_,class:"btn btn-link text-decoration-none",disabled:m.value},o[3]||(o[3]=[e("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),i(" Reenviar código ")]),8,F)]),g.value?(a(),r("div",J,[o[5]||(o[5]=e("i",{class:"bi bi-exclamation-circle me-2"},null,-1)),i(" "+d(g.value),1)])):c("",!0),b.value?(a(),r("div",O,[o[6]||(o[6]=e("i",{class:"bi bi-check-circle me-2"},null,-1)),i(" "+d(b.value),1)])):c("",!0),v.value?(a(),r("div",T,[o[7]||(o[7]=e("i",{class:"bi bi-info-circle me-2"},null,-1)),i(" "+d(v.value),1)])):c("",!0),l.value?(a(),r("div",q,[o[8]||(o[8]=e("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),i(" "+d(l.value),1)])):c("",!0)])])])])],64))}},G=x(z,[["__scopeId","data-v-1f9aee54"]]);export{G as default};
